# EditorConfig for SuffixTree projects
root = false

[*.cs]

# --- Formatting ---
indent_style = space
indent_size = 4
end_of_line = crlf
charset = utf-8
trim_trailing_whitespace = true
insert_final_newline = true

# --- Namespace style ---
csharp_style_namespace_declarations = file_scoped:warning

# --- var preferences ---
csharp_style_var_for_built_in_types = false:suggestion
csharp_style_var_when_type_is_apparent = true:suggestion
csharp_style_var_elsewhere = false:suggestion

# --- Expression-level preferences ---
dotnet_style_object_initializer = true:suggestion
dotnet_style_collection_initializer = true:suggestion
csharp_style_expression_bodied_methods = when_on_single_line:suggestion
csharp_style_expression_bodied_properties = true:suggestion
csharp_style_expression_bodied_accessors = true:suggestion

# --- Null-checking ---
csharp_style_throw_expression = true:suggestion
dotnet_style_coalesce_expression = true:suggestion
dotnet_style_null_propagation = true:suggestion

# --- this. qualification ---
dotnet_style_qualification_for_field = false:warning
dotnet_style_qualification_for_property = false:warning
dotnet_style_qualification_for_method = false:warning
dotnet_style_qualification_for_event = false:warning

# --- Modifier preferences ---
dotnet_style_require_accessibility_modifiers = for_non_interface_members:warning
csharp_preferred_modifier_order = public,private,protected,internal,static,extern,new,virtual,abstract,sealed,override,readonly,unsafe,volatile,async:warning

# --- Naming rules ---

# Constants: PascalCase (no SCREAMING_CASE)
dotnet_naming_rule.constants_should_be_pascal_case.severity = warning
dotnet_naming_rule.constants_should_be_pascal_case.symbols = constant_fields
dotnet_naming_rule.constants_should_be_pascal_case.style = pascal_case_style

dotnet_naming_symbols.constant_fields.applicable_kinds = field
dotnet_naming_symbols.constant_fields.applicable_accessibilities = *
dotnet_naming_symbols.constant_fields.required_modifiers = const

dotnet_naming_style.pascal_case_style.capitalization = pascal_case

# Static readonly fields: PascalCase
dotnet_naming_rule.static_readonly_should_be_pascal_case.severity = warning
dotnet_naming_rule.static_readonly_should_be_pascal_case.symbols = static_readonly_fields
dotnet_naming_rule.static_readonly_should_be_pascal_case.style = pascal_case_style

dotnet_naming_symbols.static_readonly_fields.applicable_kinds = field
dotnet_naming_symbols.static_readonly_fields.applicable_accessibilities = *
dotnet_naming_symbols.static_readonly_fields.required_modifiers = static, readonly

# Private fields: _camelCase
dotnet_naming_rule.private_fields_should_be_camel_case.severity = warning
dotnet_naming_rule.private_fields_should_be_camel_case.symbols = private_fields
dotnet_naming_rule.private_fields_should_be_camel_case.style = underscore_camel_case_style

dotnet_naming_symbols.private_fields.applicable_kinds = field
dotnet_naming_symbols.private_fields.applicable_accessibilities = private, private_protected

dotnet_naming_style.underscore_camel_case_style.capitalization = camel_case
dotnet_naming_style.underscore_camel_case_style.required_prefix = _

# Public/internal members: PascalCase
dotnet_naming_rule.public_members_should_be_pascal_case.severity = warning
dotnet_naming_rule.public_members_should_be_pascal_case.symbols = public_symbols
dotnet_naming_rule.public_members_should_be_pascal_case.style = pascal_case_style

dotnet_naming_symbols.public_symbols.applicable_kinds = property, method, event, delegate, class, struct, interface, enum, namespace
dotnet_naming_symbols.public_symbols.applicable_accessibilities = public, internal, protected, protected_internal

# --- Analyzer severities ---

# CA1002: Do not expose generic lists (suppress — List<T> in returns is fine for us)
dotnet_diagnostic.CA1002.severity = none

# CA1024: Use properties where appropriate (too noisy for Get* methods)
dotnet_diagnostic.CA1024.severity = none

# CA1034: Nested types should not be visible (suppress — visitor interfaces)
dotnet_diagnostic.CA1034.severity = none

# CA1062: Validate arguments of public methods (we use manual null checks)
dotnet_diagnostic.CA1062.severity = none

# CA1305: Specify IFormatProvider (not relevant for our numeric code)
dotnet_diagnostic.CA1305.severity = none

# CA1307: Specify StringComparison (not relevant)
dotnet_diagnostic.CA1307.severity = none

# CA1310: Specify StringComparison for correctness
dotnet_diagnostic.CA1310.severity = none

# CA1510-CA1513: Use ArgumentNullException.ThrowIfNull etc. (prefer .NET 8+ pattern)
dotnet_diagnostic.CA1510.severity = suggestion

# CA1707: Identifiers should not contain underscores (conflicts with _camelCase for private fields)
dotnet_diagnostic.CA1707.severity = none

# CA1711: Identifiers should not have incorrect suffix
dotnet_diagnostic.CA1711.severity = none

# CA1716: Identifiers should not match keywords
dotnet_diagnostic.CA1716.severity = none

# CA1720: Identifier contains type name
dotnet_diagnostic.CA1720.severity = none

# CA1725: Parameter names should match base declaration
dotnet_diagnostic.CA1725.severity = suggestion

# CA1822: Mark members as static (suggestion for private, too noisy for public)
dotnet_diagnostic.CA1822.severity = suggestion

# CA1848: Use LoggerMessage delegates (not applicable)
dotnet_diagnostic.CA1848.severity = none

# CA1859: Use concrete types when possible for improved performance
dotnet_diagnostic.CA1859.severity = suggestion

# CA2208: Instantiate argument exceptions correctly
dotnet_diagnostic.CA2208.severity = warning

# CA1724: Type name conflicts with namespace (SuffixTree class in SuffixTree namespace — by design)
dotnet_diagnostic.CA1724.severity = none

# CA1815: Override Equals on value types (PersistentSuffixTreeNode is a storage handle, not a value type)
dotnet_diagnostic.CA1815.severity = none

# CA1065: Do not raise exceptions in unexpected locations (ObjectDisposedException from property getters is correct pattern)
dotnet_diagnostic.CA1065.severity = none

# CA2225: Operator overloads have named alternates
dotnet_diagnostic.CA2225.severity = none

# IDE0005: Remove unnecessary using directives
dotnet_diagnostic.IDE0005.severity = warning

# IDE0040: Add accessibility modifiers
dotnet_diagnostic.IDE0040.severity = warning

# IDE0044: Add readonly modifier
dotnet_diagnostic.IDE0044.severity = warning

# IDE0055: Fix formatting
dotnet_diagnostic.IDE0055.severity = warning

# IDE0060: Remove unused parameter
dotnet_diagnostic.IDE0060.severity = warning

# IDE0161: Convert to file-scoped namespace
dotnet_diagnostic.IDE0161.severity = warning
